"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[950],{2367:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"cron/quickstart","title":"Guide de d\xe9marrage rapide","description":"Le syst\xe8me de mise \xe0 jour automatique est d\xe9j\xe0 configur\xe9 et pr\xeat \xe0 l\'emploi !","source":"@site/docs/cron/quickstart.md","sourceDirName":"cron","slug":"/cron/quickstart","permalink":"/documentation/cron/quickstart","draft":false,"unlisted":false,"editUrl":"https://github.com/loukalost/adopte-ton-triple-monstre/tree/main/documentation/docs/cron/quickstart.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Guide de d\xe9marrage rapide"},"sidebar":"tutorialSidebar","previous":{"title":"Vue d\'ensemble","permalink":"/documentation/cron/overview"},"next":{"title":"Configuration avanc\xe9e","permalink":"/documentation/cron/configuration"}}');var s=i(4848),t=i(8453);const a={sidebar_position:2,title:"Guide de d\xe9marrage rapide"},l="\ud83d\ude80 Guide de d\xe9marrage rapide",o={},c=[{value:"\u2705 Pr\xe9requis",id:"-pr\xe9requis",level:2},{value:"\ud83c\udfaf D\xe9marrage en 3 \xe9tapes",id:"-d\xe9marrage-en-3-\xe9tapes",level:2},{value:"1. Lancer l&#39;application",id:"1-lancer-lapplication",level:3},{value:"2. Ouvrir la console du navigateur",id:"2-ouvrir-la-console-du-navigateur",level:3},{value:"3. Observer les logs",id:"3-observer-les-logs",level:3},{value:"\ud83e\uddea Tester manuellement",id:"-tester-manuellement",level:2},{value:"Option A : Via curl",id:"option-a--via-curl",level:3},{value:"Option B : Dans le navigateur",id:"option-b--dans-le-navigateur",level:3},{value:"Option C : Via la console JavaScript",id:"option-c--via-la-console-javascript",level:3},{value:"\u2699\ufe0f Configuration basique",id:"\ufe0f-configuration-basique",level:2},{value:"Modifier l&#39;intervalle",id:"modifier-lintervalle",level:3},{value:"Activer l&#39;indicateur visuel",id:"activer-lindicateur-visuel",level:3},{value:"Intervalle fixe",id:"intervalle-fixe",level:3},{value:"\ud83d\udd12 S\xe9curit\xe9 (Optionnel)",id:"-s\xe9curit\xe9-optionnel",level:2},{value:"\u2705 V\xe9rifier que tout fonctionne",id:"-v\xe9rifier-que-tout-fonctionne",level:2},{value:"Checklist",id:"checklist",level:3},{value:"En cas de probl\xe8me",id:"en-cas-de-probl\xe8me",level:3},{value:"\ud83d\udcda Prochaines \xe9tapes",id:"-prochaines-\xe9tapes",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"-guide-de-d\xe9marrage-rapide",children:"\ud83d\ude80 Guide de d\xe9marrage rapide"})}),"\n",(0,s.jsxs)(n.p,{children:["Le syst\xe8me de mise \xe0 jour automatique est ",(0,s.jsx)(n.strong,{children:"d\xe9j\xe0 configur\xe9 et pr\xeat \xe0 l'emploi"})," !"]}),"\n",(0,s.jsx)(n.h2,{id:"-pr\xe9requis",children:"\u2705 Pr\xe9requis"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Node.js 18+ install\xe9"}),"\n",(0,s.jsxs)(n.li,{children:["MongoDB configur\xe9 (voir ",(0,s.jsx)(n.code,{children:".env.local"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"Application Next.js en cours d'ex\xe9cution"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-d\xe9marrage-en-3-\xe9tapes",children:"\ud83c\udfaf D\xe9marrage en 3 \xe9tapes"}),"\n",(0,s.jsx)(n.h3,{id:"1-lancer-lapplication",children:"1. Lancer l'application"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm run dev\r\n# ou\r\nyarn dev\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-ouvrir-la-console-du-navigateur",children:"2. Ouvrir la console du navigateur"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Ouvrez votre navigateur sur ",(0,s.jsx)(n.code,{children:"http://localhost:3000"})]}),"\n",(0,s.jsxs)(n.li,{children:["Appuyez sur ",(0,s.jsx)(n.code,{children:"F12"})," pour ouvrir les outils d\xe9veloppeur"]}),"\n",(0,s.jsxs)(n.li,{children:["Allez dans l'onglet ",(0,s.jsx)(n.strong,{children:"Console"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-observer-les-logs",children:"3. Observer les logs"}),"\n",(0,s.jsx)(n.p,{children:"Vous devriez voir imm\xe9diatement :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[2025-10-29T12:34:56.789Z] [AUTO-UPDATE] \ud83d\ude80 D\xe9marrage des mises \xe0 jour automatiques (intervalle al\xe9atoire: 1-3 min)\r\n[2025-10-29T12:34:56.790Z] [AUTO-UPDATE] \ud83d\udd04 D\xe9clenchement mise \xe0 jour des monstres...\r\n[2025-10-29T12:34:57.012Z] [AUTO-UPDATE] \u2705 Monstres mis \xe0 jour avec succ\xe8s { updated: 5, duration: 223 }\r\n[2025-10-29T12:34:57.013Z] [AUTO-UPDATE] \u23f0 Prochaine mise \xe0 jour dans 142s (2 min)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-tester-manuellement",children:"\ud83e\uddea Tester manuellement"}),"\n",(0,s.jsx)(n.h3,{id:"option-a--via-curl",children:"Option A : Via curl"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:3000/api/cron/update-monsters\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"R\xe9ponse attendue :"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": true,\r\n  "updated": 5,\r\n  "timestamp": "2025-10-29T12:34:56.789Z",\r\n  "duration": 234,\r\n  "details": [\r\n    {\r\n      "id": "507f1f77bcf86cd799439011",\r\n      "oldState": "hungry",\r\n      "newState": "sleepy"\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"option-b--dans-le-navigateur",children:"Option B : Dans le navigateur"}),"\n",(0,s.jsxs)(n.p,{children:["Ouvrez directement : ",(0,s.jsx)(n.code,{children:"http://localhost:3000/api/cron/update-monsters"})]}),"\n",(0,s.jsx)(n.h3,{id:"option-c--via-la-console-javascript",children:"Option C : Via la console JavaScript"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"fetch('/api/cron/update-monsters', { method: 'POST' })\r\n  .then(res => res.json())\r\n  .then(data => console.log('\u2705 R\xe9sultat:', data))\r\n  .catch(err => console.error('\u274c Erreur:', err))\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-configuration-basique",children:"\u2699\ufe0f Configuration basique"}),"\n",(0,s.jsxs)(n.p,{children:["Le syst\xe8me est configur\xe9 dans ",(0,s.jsx)(n.code,{children:"src/app/layout.tsx"})," :"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="src/app/layout.tsx"',children:"<MonstersAutoUpdater\r\n  minInterval={60000}  // 1 minute minimum\r\n  maxInterval={180000} // 3 minutes maximum\r\n  enabled              // Activ\xe9\r\n  verbose              // Logs dans la console\r\n  showIndicator={false} // Pas d'indicateur visuel\r\n/>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"modifier-lintervalle",children:"Modifier l'intervalle"}),"\n",(0,s.jsx)(n.p,{children:"Pour changer les d\xe9lais entre les mises \xe0 jour :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"<MonstersAutoUpdater\r\n  minInterval={30000}   // 30 secondes minimum\r\n  maxInterval={120000}  // 2 minutes maximum\r\n  enabled\r\n  verbose\r\n  showIndicator={false}\r\n/>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"activer-lindicateur-visuel",children:"Activer l'indicateur visuel"}),"\n",(0,s.jsx)(n.p,{children:"Pour voir un badge en bas \xe0 droite avec les infos :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"<MonstersAutoUpdater\r\n  minInterval={60000}\r\n  maxInterval={180000}\r\n  enabled\r\n  verbose\r\n  showIndicator={true} // \u2190 Badge visible\r\n/>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"intervalle-fixe",children:"Intervalle fixe"}),"\n",(0,s.jsx)(n.p,{children:"Pour un intervalle fixe (non al\xe9atoire) :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"<MonstersAutoUpdater\r\n  minInterval={60000}\r\n  maxInterval={60000}  // M\xeame valeur = intervalle fixe\r\n  enabled\r\n  verbose\r\n  showIndicator={false}\r\n/>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-s\xe9curit\xe9-optionnel",children:"\ud83d\udd12 S\xe9curit\xe9 (Optionnel)"}),"\n",(0,s.jsxs)(n.p,{children:["Pour s\xe9curiser l'endpoint API, ajoutez dans ",(0,s.jsx)(n.code,{children:".env.local"})," :"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-env",metastring:'title=".env.local"',children:"# Token pour s\xe9curiser l'endpoint\r\nCRON_SECRET_TOKEN=votre_token_ultra_secret_ici\r\n\r\n# Token public (doit \xeatre identique)\r\nNEXT_PUBLIC_CRON_SECRET_TOKEN=votre_token_ultra_secret_ici\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"Attention",type:"warning",children:(0,s.jsxs)(n.p,{children:["Si ",(0,s.jsx)(n.code,{children:"CRON_SECRET_TOKEN"})," n'est pas d\xe9fini, l'endpoint sera accessible ",(0,s.jsx)(n.strong,{children:"sans authentification"}),". C'est acceptable pour un usage interne, mais pensez \xe0 le s\xe9curiser en production."]})}),"\n",(0,s.jsx)(n.h2,{id:"-v\xe9rifier-que-tout-fonctionne",children:"\u2705 V\xe9rifier que tout fonctionne"}),"\n",(0,s.jsx)(n.h3,{id:"checklist",children:"Checklist"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","L'application d\xe9marre sans erreur"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Les logs apparaissent dans la console"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","La premi\xe8re mise \xe0 jour se fait imm\xe9diatement"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Les mises \xe0 jour suivantes se font \xe0 intervalle al\xe9atoire"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","L'API ",(0,s.jsx)(n.code,{children:"/api/cron/update-monsters"})," r\xe9pond correctement"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"en-cas-de-probl\xe8me",children:"En cas de probl\xe8me"}),"\n",(0,s.jsxs)(n.p,{children:["Consultez la section ",(0,s.jsx)(n.a,{href:"/documentation/cron/troubleshooting",children:"D\xe9pannage"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"-prochaines-\xe9tapes",children:"\ud83d\udcda Prochaines \xe9tapes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/documentation/cron/configuration",children:"Configuration avanc\xe9e"})," - Personnaliser le syst\xe8me"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/documentation/cron/api-reference",children:"API Reference"})," - Documentation de l'API"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/documentation/cron/troubleshooting",children:"D\xe9pannage"})," - R\xe9soudre les probl\xe8mes"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var r=i(6540);const s={},t=r.createContext(s);function a(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);